# javamid-vitrina

```text

order_items            orders                 users              baskets                 basket_items         products
+------------+         +---------------+      +-----------+      +----------------+      +-------------+      +-------------+
| id         |         | id            |      | id        |      | id             |      | id          |      | id          |
| user_id    |    1<-N | user_id       | 1<-N | name      | 1->1 | user_id        | 1->N | basket_id   | 1->N | image       |
| name       |         | order_item_id |      | basket_id | 1<-1 | basket_item_id | 1<-N | product_id  |      | name        |
| image      |         |               |      |           |      |                |      | quantity    |      | description |
| price      |         +---------------+      +-----------+      +----------------+      +-------------+      | price       |
| user_id    |                                                                                                |             |
| quantity   |                                                                                                +-------------+
| product_id |                                                                                             
+------------+                                                                                             


```

для загрузки товаров в базу написана админка, которую надо вызвать по адресу 8080:/admin/upload
ей надо скормить zip архив содержащий файлы с картинками и csv файл с записями. возможно отсутствие картинок.
формат файла вот такой:
name, image, description, price
"Ноутбук Lenovo", , "нетипичный товар", 55000
"Книга Spring Boot",, "очень интересная книжка", 1200
"кепка", "cap1.jfif", "кепка типа бейсболка", 500
"eщё кепка", "cap2.jfif", "кепка типа бейсболка", 510
пример для загрузки товаров лежит в папке src/main/resources/static/example

при разработке использовал БД H2 в файле, в папке проекта

при создании структуры БД sql скриптами в schema.sql создается один пользователь и его корзина.
скрипты идемпотентны.
планировал возможность многих пользователей.

использовал готовые шаблоны Thymeleaf, изменил в них только пути к картинкам.

по сути все реактивные методы написаны дипсиком ((

не удалось передать флеш-параметр newOrder при редиректе по кнопке post buy

тестов наверное, маловато, но нигде не сказано, на сколько % надо покрыть.